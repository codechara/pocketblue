### install fedora atomic on mipad5

- **your current os and all your files will be deleted**
- you should have `bash`, `adb` and `fastboot` installed on your computer
- download latest `pocketblue-mipad5-gnome-desktop-42.zip` [from here](https://github.com/onesaladleaf/pocketblue/actions/workflows/images-mipad5.yml)
- you can download it only if you are logged into your github account
- unarchive it
- unlock bootloader on mipad5
- boot into fastboot and connect mipad5 to your computer via usb
- run `bash flash_mipad5.sh`
- reboot and enjoy fedora
- to upgrade system use `rpm-ostree upgrade`
- after upgrade you should write `sudo ostree admin finalize-staged`, for upgrade to apply
- default username: `user`
- default password: `123456`

### known bugs

- charging status not shown in gnome taskbar
- you should check charging status using btop which is preinstalled
- some chargers works, some chargers not work
- you should also try charge mipad5 from your computer or from your laptop
- if nothing works, you can boot into twrp and do charging in twrp, or boot into fastboot and do charging in fastboot

### uninstall fedora and get stock rom back

- download `MIUI 14.0.8.0.TKXMIXM` archive [from here](https://miuirom.org/tablets/xiaomi-pad-5)
- unarchive it
- run `bash flash_all.sh`
- reboot and enjoy stock rom
- no need for repartitioning or do anything else

### files used by install script, license info, source links

- `root.raw` - root partition for fedora, built by `.github/workflows/images-mipad5.yml`
- `boot.raw` - /boot partition, built by `.github/workflows/images-mipad5.yml`
- `efi.raw` - /boot/efi partition, built by `.github/workflows/images-mipad5.yml`
- `uboot.img` - uboot image, gpl2 license, [source](https://gitlab.com/sm8150-mainline/u-boot/-/jobs?kind=BUILD)
- `twrp.img` - recovery, gpl3 license, [source](https://github.com/map220v/android_device_xiaomi_nabu)
- `dtbo.img` - device tree blob overlay image from lineage os, gpl2 or bsd‑2‑clause license, [source](https://github.com/ArKT-7/automated-nabu-lineage-installer)
- `vbmeta-disabled.img` - generated by `avbtool make_vbmeta_image --flags 2 --padding_size 4096 --output vbmeta_disabled.img` command
- `parted` - gnu parted program static binary, gpl3 license, [source](https://github.com/gmankab/parted)

